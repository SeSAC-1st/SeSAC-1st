<section class="bg-coolGray-50 py-4">
  <div class="container px-4 mx-auto mt-8">
    <div class="flex flex-wrap m-5">
      <% if (baseUrl === '/post/list/user') { %>
        <div class="w-full">
          <% postList.forEach(post => { %>
            <div class="card back w-full p-3">
              <div class="bg-white border border-coolGray-100 shadow-dashboard rounded-md 
                  h-auto shadow-lg hover:shadow-xl overflow-hidden transform origin-bottom transition duration-400 ease-in 
                  min-w-60 relative">
                <a href="/post/<%= post.postId %>">
                  <div class="flex flex-col justify-center items-start px-4 pt-4 pb-4">
                    
                      <h2 class="tracking-tight text-gray-900 text-lg font-bold hover:underline block mb-2">
                        <%= post.postTitle %>
                      </h2>
                    
                    <div class="mt-2">
                      <h3 class="text-sm text-gray-700 line-clamp-3">
                        <%- post.postContent.length > 100 ? post.postContent.slice(0, 100) + '...' : post.postContent %>
                      </h3>
                    </div>
                    <div class="border-t border-gray-300 pt-2 mt-2 w-full">
                      <div class="items-center text-gray-400 text-xs mt-1">
                        <div class="flex space-x-2">
                          <span class="font-medium text-gray-400 text-sm">Dependency by <%= post.User.userNick %></span>
                        </div>
                        <div class="flex space-x-2">
                          <span>
                            <%= new Date(post.createdAt).toLocaleDateString() %>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          <% }); %>
        </div>
      <% } else { %>
        <% postList.forEach(post => { %>
          <div class="card back w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-3">
            <div class="w-full p-3">
              <div class="bg-white border border-coolGray-100 shadow-dashboard rounded-md 
                  h-[330px] shadow-lg hover:shadow-xl overflow-hidden transform origin-bottom transition duration-400 ease-in 
                  min-w-60 relative card-shake">
                <div class="flex flex-col justify-center items-center px-4 pt-8 pb-6">
                  <a href="/post/<%= post.postId %>">
                    <h2 class="tracking-tight text-gray-900 text-lg font-bold hover:underline block mb-2">
                      <%= post.postTitle %>
                    </h2>
                  </a>
                  <div class="mt-4">
                    <h3 class="text-sm text-gray-700 line-clamp-3">
                      <%- post.postContent.length > 100 ? post.postContent.slice(0, 100) + '...' : post.postContent %>
                    </h3>
                  </div>
                  <div class="absolute bottom-5 border-t border-gray-300 pt-2 mt-auto">
                    <div class="items-center text-gray-400 text-xs mt-1">
                      <div class="flex space-x-2">
                        <span class="font-medium text-gray-400 text-sm">Dependency by <%= post.User.userNick %></span>
                      </div>
                      <div class="flex space-x-2">
                        <span>
                          <%= new Date(post.createdAt).toLocaleDateString() %>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% }); %>
      <% } %>
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const card = document.querySelector('.animate-shake');
    if (card) {
      card.classList.add('opacity-100');
    }
  });
</script>
